<!DOCTYPE html>
<html xmlns:fb="http://ogp.me/ns/fb#">
	<head>
		<title>Blog Archives - Younes Nejahi's Website</title><meta property="og:site_name" content="Younes Nejahi&#039;s Website" />
<meta property="og:title" content="Blog Archives" />
<meta property="og:description" content="Just me, writing my thoughts and maybe some cool facts that might interest you." />
<meta property="og:url" content="http://nejahi.com/1/archives/07-2015" />

<link rel="icon" type="image/png" href="http://www.weebly.com/uploads/reseller/assets/1001-favicon.ico" />
<meta http-equiv='cache-control' content='no-cache' />



<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    
		
		<link id="wsite-base-style" rel="stylesheet" type="text/css" href="http://cdn2.editmysite.com/css/sites.css?buildTime=1464980459" />
<link rel="stylesheet" type="text/css" href="http://cdn1.editmysite.com/editor/libraries/fancybox/fancybox.css?1457572613" />
<link rel="stylesheet" type="text/css" href="../../files/main_style.css?1457590923" title="wsite-theme-css" />
<link href='http://fonts.googleapis.com/css?family=Quattrocento:400,700&amp;subset=latin,latin-ext' rel='stylesheet' type='text/css' />

<style type='text/css'>
.wsite-elements.wsite-not-footer div.paragraph, .wsite-elements.wsite-not-footer p, .wsite-elements.wsite-not-footer .product-block .product-title, .wsite-elements.wsite-not-footer .product-description, .wsite-elements.wsite-not-footer .wsite-form-field label, .wsite-elements.wsite-not-footer .wsite-form-field label, #wsite-content div.paragraph, #wsite-content p, #wsite-content .product-block .product-title, #wsite-content .product-description, #wsite-content .wsite-form-field label, #wsite-content .wsite-form-field label, .blog-sidebar div.paragraph, .blog-sidebar p, .blog-sidebar .wsite-form-field label, .blog-sidebar .wsite-form-field label {}
#wsite-content div.paragraph, #wsite-content p, #wsite-content .product-block .product-title, #wsite-content .product-description, #wsite-content .wsite-form-field label, #wsite-content .wsite-form-field label, .blog-sidebar div.paragraph, .blog-sidebar p, .blog-sidebar .wsite-form-field label, .blog-sidebar .wsite-form-field label {}
.wsite-elements.wsite-footer div.paragraph, .wsite-elements.wsite-footer p, .wsite-elements.wsite-footer .product-block .product-title, .wsite-elements.wsite-footer .product-description, .wsite-elements.wsite-footer .wsite-form-field label, .wsite-elements.wsite-footer .wsite-form-field label{}
.wsite-elements.wsite-not-footer h2, .wsite-elements.wsite-not-footer .product-long .product-title, .wsite-elements.wsite-not-footer .product-large .product-title, .wsite-elements.wsite-not-footer .product-small .product-title, #wsite-content h2, #wsite-content .product-long .product-title, #wsite-content .product-large .product-title, #wsite-content .product-small .product-title, .blog-sidebar h2 {}
#wsite-content h2, #wsite-content .product-long .product-title, #wsite-content .product-large .product-title, #wsite-content .product-small .product-title, .blog-sidebar h2 {}
.wsite-elements.wsite-footer h2, .wsite-elements.wsite-footer .product-long .product-title, .wsite-elements.wsite-footer .product-large .product-title, .wsite-elements.wsite-footer .product-small .product-title{}
#wsite-title {}
.wsite-menu-default a {}
.wsite-menu a {}
.wsite-image div, .wsite-caption {}
.galleryCaptionInnerText {}
.fancybox-title {}
.wslide-caption-text {}
.wsite-phone {}
.wsite-headline {}
.wsite-headline-paragraph {}
.wsite-button-inner {}
.wsite-not-footer blockquote {}
.wsite-footer blockquote {}
.blog-header h2 a {}
#wsite-content h2.wsite-product-title {}
.wsite-product .wsite-product-price a {}
</style>

		<script><!--
var STATIC_BASE = '//cdn1.editmysite.com/';
var STYLE_PREFIX = 'wsite';
//-->
</script>
<script src='https://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js'></script>

<script src="http://cdn2.editmysite.com/js/site/main.js?buildTime=1464980459"></script><script type="text/javascript">_W.resellerSite = true;</script><script type="text/javascript">_W.configDomain = "www.weebly.com";</script><script>_W.relinquish && _W.relinquish()</script>
<script type="text/javascript" src="http://cdn2.editmysite.com/js/lang/en/stl.js?buildTime=1464980459&amp;"></script><script> _W.themePlugins = [];</script><script type="text/javascript"><!--
	
	
	(function(jQuery){
		function initFlyouts(){
			initPublishedFlyoutMenus(
				[{"id":"972522781941880845","title":"Home","url":"index.html","target":""},{"id":"545598613937685908","title":"Research","url":"research.html","target":""},{"id":"381322989339129483","title":"Projects","url":"projects.html","target":""},{"id":"137574007652892111","title":"Personal Blog","url":"personal-blog.html","target":""},{"id":"419888120216591985","title":"Contact","url":"contact.html","target":""}],
				"137574007652892111",
				'',
				'active',
				false,
				{"navigation\/item":"<li {{#id}}id=\"{{id}}\"{{\/id}} class=\"wsite-menu-item-wrap\">\n\t<a\n\t\t{{^nav_menu}}\n\t\t\thref=\"{{url}}\"\n\t\t{{\/nav_menu}}\n\t\t{{#target}}\n\t\t\ttarget=\"{{target}}\"\n\t\t{{\/target}}\n\t\t{{#membership_required}}\n\t\t\tdata-membership-required=\"{{.}}\"\n\t\t{{\/membership_required}}\n\t\tclass=\"wsite-menu-item\"\n\t\t>\n\t\t{{{title_html}}}\n\t<\/a>\n\t{{#has_children}}{{> navigation\/flyout\/list}}{{\/has_children}}\n<\/li>\n","navigation\/flyout\/list":"<div class=\"wsite-menu-wrap\" style=\"display:none\">\n\t<ul class=\"wsite-menu\">\n\t\t{{#children}}{{> navigation\/flyout\/item}}{{\/children}}\n\t<\/ul>\n<\/div>\n","navigation\/flyout\/item":"<li {{#id}}id=\"{{id}}\"{{\/id}}\n\tclass=\"wsite-menu-subitem-wrap {{#is_current}}wsite-nav-current{{\/is_current}}\"\n\t>\n\t<a\n\t\t{{^nav_menu}}\n\t\t\thref=\"{{url}}\"\n\t\t{{\/nav_menu}}\n\t\t{{#target}}\n\t\t\ttarget=\"{{target}}\"\n\t\t{{\/target}}\n\t\tclass=\"wsite-menu-subitem\"\n\t\t>\n\t\t<span class=\"wsite-menu-title\">\n\t\t\t{{{title_html}}}\n\t\t<\/span>{{#has_children}}<span class=\"wsite-menu-arrow\">&gt;<\/span>{{\/has_children}}\n\t<\/a>\n\t{{#has_children}}{{> navigation\/flyout\/list}}{{\/has_children}}\n<\/li>\n"},
				{}
			)
		}
		if (jQuery) {
			jQuery(document).ready(function() { jQuery(initFlyouts); });
		}else{
			if (Prototype.Browser.IE) window.onload = initFlyouts;
			else document.observe('dom:loaded', initFlyouts);
		}
	})(window._W && _W.jQuery)
//-->
</script>
		
	</head>
	<body class="no-header-page wsite-theme-light  wsite-page-personal-blog wsite-blog-index"><div id="header-wrap">
        <div class="container">
            <table id="header">
                <tr>
                    <td id="logo"><span class="wsite-logo">

	<a href="../../index.html">
	
	<span id="wsite-title">Younes Nejahi's Website</span>
	
	</a>

</span></td>
                    <td class="header-right">
                        <table>
                            <tr>
								<td class="social"><div style="text-align:left;"><div style="height:0px;overflow:hidden"></div>
<span class="wsite-social wsite-social-default"><a class='first-child wsite-social-item wsite-social-facebook' href='https://www.facebook.com/nejahi' target='_blank'><span class='wsite-social-item-inner'></span></a><a class='wsite-social-item wsite-social-twitter' href='http://twitter.com/YounesNejahy' target='_blank'><span class='wsite-social-item-inner'></span></a><a class='last-child wsite-social-item wsite-social-mail' href='mailto:younes@nejahi.com' target='_blank'><span class='wsite-social-item-inner'></span></a></span>
<div style="height:0px;overflow:hidden"></div></div></td>
                            </tr>
                        </table>
                    </td>
                </tr>
            </table>
        </div><!-- end container -->
    </div><!-- end header-wrap -->  

    <div id="nav-wrap">
        <div class="container">
			<table id="nav-table">
				<tr>
					<td><ul class="wsite-menu-default">
		<li id="pg972522781941880845" class="wsite-menu-item-wrap">
			<a
					href="../../index.html"
				class="wsite-menu-item"
				>
				Home
			</a>
			
		</li>
		<li id="pg545598613937685908" class="wsite-menu-item-wrap">
			<a
					href="../../research.html"
				class="wsite-menu-item"
				>
				Research
			</a>
			
		</li>
		<li id="pg381322989339129483" class="wsite-menu-item-wrap">
			<a
					href="../../projects.html"
				class="wsite-menu-item"
				>
				Projects
			</a>
			
		</li>
		<li id="active" class="wsite-menu-item-wrap">
			<a
					href="../../personal-blog.html"
				class="wsite-menu-item"
				>
				Personal Blog
			</a>
			
		</li>
		<li id="pg419888120216591985" class="wsite-menu-item-wrap">
			<a
					href="../../contact.html"
				class="wsite-menu-item"
				>
				Contact
			</a>
			
		</li>
</ul>
</td>
					<td class="header-right">
						<table>
							<tr>
								<td class="phone-number"></td>
								<td class="search"></td>
							</tr>
						</table>
					</td>
				</tr>
			</table>
        </div><!-- end container -->
    </div><!-- end nav-wrap -->

    <div id="banner-wrap">
        <div class="container">
            <div id="banner">
            
                <div style="clear:both;"></div>
            
            </div><!-- end banner -->
        </div><!-- end container -->
    </div><!-- end banner-wrap -->

    <div id="main-wrap">
        <div class="container">
   			<div class='wsite-elements wsite-not-footer'>
<table 
	id="blogTable" 
		class="wsite-not-footer" 
	style="border: 0; width: 100%; table-layout: fixed" 
>
	<tr>
	    <td valign="top">
	        	<div id="137574007652892111-blog" class="blog-body" style="float: left;"> 
		<div id="wsite-content">	<div id="blog-post-411094453894504555" class="blog-post">
	
	
		<div class="blog-header">
			<h2 class="blog-title">
					<a class="blog-title-link blog-link" href="http://nejahi.com/personal-blog/authenticate-users-on-php-using-ldap-server">Authenticate users on PHP through LDAP server.</a>

			</h2>
			<p class="blog-date">
					<span class="date-text">
		7/17/2015
	</span>

			</p>
			<p class="blog-comments">
					<a href="http://nejahi.com/personal-blog/authenticate-users-on-php-using-ldap-server#comments" class="blog-link">
		2 Comments
	</a>

			</p>
		</div>
	
		<div class="blog-separator">&nbsp;</div>
	
		<div class="blog-content">
				<div class="paragraph" style="text-align:left;">
In one of my projects I came across a situation where I had to authenticate users from an LDAP server. It took me awhile to understand how to work with it so I thought maybe this information might help other people.&nbsp;<br>
<span style="line-height: 1.5; background-color: initial;">Depending on the server we might take different approaches to connect to LDAP server and fetch information. Some servers use mutliple Relative Distinguished Name (RDN) as a Distinguished Name (DN) or some will use just one. The rest should be similar for both of these types.</span><br>
In this <a href="http://php.net/manual/en/book.ldap.php" title="">link</a> there is list of ldap functions built in PHP. In our case we only two function: <strong><a href="http://php.net/manual/en/function.ldap-connect.php" title="">ldap_connect</a></strong> and <strong><a href="http://php.net/manual/en/function.ldap-bind.php" title="">ldap_bind</a>.</strong><br>
The first function make a connection to an LDAP server and the second&nbsp;binds to the LDAP directory with specified user id and password.<br>
Now using the following template we can simply authenticate a user but there is a difference which we will talk soon.<br>
</div>

<div>
<div id="509806649159380171" align="left" style="width: 100%; overflow-y: hidden;" class="wcustomhtml">
<pre class="prettyprint">
function ldap_med_campus($uname, $password){<br>        $dn = "DOMAIN\\$uname";<br>        $ldappass = "$password"; <br>        ldap_set_option(NULL, LDAP_OPT_DEBUG_LEVEL, 7); <br>        $ldapconn = @ldap_connect("ldap.xxx.yyy.edu",389) or die("Cannot connect to LDAP server!");<br>        ldap_set_option($ldapconn, LDAP_OPT_PROTOCOL_VERSION, 3); <br>        ldap_set_option($ldapconn, LDAP_OPT_REFERRALS, 0); <br>        if($ldapconn) {<br>                $ldapbind = ldap_bind($ldapconn, $dn, $ldappass);<br>                if($ldapbind) {<br>                        return "Success!";<br>                } else {<br>                        return "Invalid Credential!";<br>                }<br>        } else { <br>                return "Connection Failed!";<br>        } <br>        return "Unknown Error!";<br>}
</pre>
</div>
</div>

<div class="paragraph" style="text-align:left;">
Now the difference between some servers is the format of DN.<br>
As we can see in the example above this code can be used for one of servers I was using which was an Active Directory (AD) and uses only one RDN to identify the users. DN in this case is just simply domain and username in the format of "DOMAIN\\Username". Some other servers might use multiple RDN which might take more information like "common name" or "cn", "DNS domain name" or "dc", "Organizational Unit" or "ou" and etc.&nbsp;<br>
An example of this format can be like:<br>
</div>

<div>
<div id="820255061514642035" align="left" style="width: 100%; overflow-y: hidden;" class="wcustomhtml">
<pre class="prettyprint">
$dn = "uid=$uname,ou=People,dc=xxx,dc=edu";
</pre>
</div>
</div>

<div class="paragraph" style="text-align:left;">
More details about DN and RDN can be found&nbsp;<a href="http://www.zytrax.com/books/ldap/apa/dn-rdn.html" target="_blank" title="">here</a>.
</div>

<div>
<div id="391108252414943944" align="left" style="width: 100%; overflow-y: hidden;" class="wcustomhtml">
<!--wp code prettify-->
<script type="text/javascript">
        function $(id) {return !id ? null : document.getElementById(id);}

        loadPrettifyCss = function () {
                if(!$('prettify_css')) {
                        css = document.createElement('link');
                        css.id = 'prettify_css';
                        css.type = 'text/css';
                        css.rel = 'stylesheet';
                        css.href = 'http://devblogs.nvidia.com/parallelforall/wp-content/plugins/wp-code-prettify/css/prettify.css';
                        var headNode = document.getElementsByTagName("head")[0];
                        headNode.appendChild(css);
                } else {
                        $('prettify_css').href = 'http://devblogs.nvidia.com/parallelforall/wp-content/plugins/wp-code-prettify/css/prettify.css';
                }

                if(!$('prettify_custom')) {
                        css = document.createElement('style');
                        css.id = 'prettify_custom';
                        css.type = 'text/css';
                        css.rel = 'stylesheet';
                        css.innerHTML = 'pre.prettyprint { max-height: 500px; white-space: pre; word-wrap: normal; overflow: auto; background-color: #f8f8f8;border-radius: 3px; } pre.prettyprint[title]:before { float: right; border: 1px solid #ccc; border-radius: 3px; background: #ddd; padding: 10px; content: attr(title);  font: 13px "Trebuchet MS", "Helvetica Neue", Helvetica, Arial, sans-serif; }';
                        var headNode = document.getElementsByTagName("head")[0];
                        headNode.appendChild(css);
                } else {
                        $('prettify_css').innerHTML = 'pre.prettyprint { max-height: 500px; white-space: pre; word-wrap: normal; overflow: auto; background-color: #f8f8f8;border-radius: 3px; } pre.prettyprint[title]:before { float: right; border: 1px solid #ccc; border-radius: 3px; background: #ddd; padding: 10px; content: attr(title);  font: 13px "Trebuchet MS", "Helvetica Neue", Helvetica, Arial, sans-serif; }';
                }
        }
</script> <script type="text/javascript">
                loadPrettifyCss();
</script> <script type="text/javascript" src="http://devblogs.nvidia.com/parallelforall/wp-content/plugins/wp-code-prettify/js/prettify.js">
</script> <script type="text/javascript">
                function wpCodePrettifyOnLoad(func){
                        var wpCodePrettifyOldOnLoad = window.onload;
                        if (typeof window.onload != 'function') {
                                window.onload = func
                        } else {
                                window.onload = function () {
                                        wpCodePrettifyOldOnLoad();
                                        func()
                                }
                        }
                }

                wpCodePrettifyOnLoad(function(){prettyPrint();});
</script> <!--//wp code prettify-->
</div>
</div>


		</div>
	
	
			<div class="blog-social  ">
		<div class="blog-social-item blog-fb-like"><fb:like href="http://nejahi.com/1/post/2015/07/authenticate-users-on-php-using-ldap-server.html" width="90" layout="button_count" action="like" show_faces="false" share="false"></fb:like></div><div class="blog-social-item"><a class="twitter-share-button" href="http://twitter.com/share?url=http://nejahi.com/1/post/2015/07/authenticate-users-on-php-using-ldap-server.html" data-text="Authenticate users on PHP through LDAP server. - Younes Nejahi&#039;s Website" data-count="horizontal"></a></div>
		<div style="clear:both"></div>
	</div>

	
		<div class="blog-comments-bottom">
				<a href="http://nejahi.com/personal-blog/authenticate-users-on-php-using-ldap-server#comments" class="blog-link">
		2 Comments
	</a>

		</div>
	
		<div class="blog-post-separator"></div>
	</div>


<!-- bid: $blog_id --></div>
	</div>

	    </td>
	        <td class="blog-sidebar" valign="top">
	            <div id="137574007652892111-sidebar" class="column-blog">
	<div class="blog-sidebar-separator">
		<ul id="137574007652892111-sidebar-list" class="columnlist-blog" style="margin:0; padding: 0;">
			<h2 class="blog-author-title" style="text-align:left;">Author</h2>
<p style="text-align:left;">Just me, writing my thoughts and maybe some cool facts that might interest you.</p>

<h2 class="blog-archives-title" style="text-align:left;">Archives</h2>
<p class="blog-archive-list">
		<a href="09-2015" class="blog-link">September 2015</a>
		<br />
		<a href="07-2015" class="blog-link active">July 2015</a>
		<br />
</p>

<h2 class="blog-category-title" style="text-align:left;">Categories</h2>
<p class="blog-category-list">
	<a href="../category/all" class="blog-link">All</a>
	<br />
		<a href="../category/cmake" class="blog-link">Cmake</a>
		<br />
		<a href="../category/itpp" class="blog-link">Itpp</a>
		<br />
		<a href="../category/ldap" class="blog-link">Ldap</a>
		<br />
		<a href="../category/php" class="blog-link">Php</a>
		<br />
		<a href="../category/visual&#32;studio" class="blog-link">Visual Studio</a>
		<br />
</p>

<p class="blog-feed-link">
	<link href="07-2015"  rel="alternate" type="application/rss+xml" title="RSS" />
	<a href="../../1/feed">
		<img src="http://cdn1.editmysite.com/editor/images/common/bg_feed.gif" />
		RSS Feed
	</a>
</p>

<div><div id="652665655947441178" align="left" style="width: 100%; overflow-y: hidden;" class="wcustomhtml"><script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-64719273-1', 'auto');
  ga('send', 'pageview');

</script></div>



</div>
		</ul>
	</div>
</div>

	        </td>
	</tr>
</table>
</div>

        </div><!-- end container -->
    </div><!-- end main-wrap -->

    <div id="footer-wrap">
        <div class="container">
       		<div class='wsite-elements wsite-footer'>
<div class="paragraph" style="text-align:left;">&copy; 2015, All Rights Reserved. Any content on this website should not be used or published without permission from the author.</div></div>
<script type='text/javascript'>
//<!--

if (document.cookie.match(/(^|;)\s*is_mobile=1/)) {
	var windowHref = window.location.href || '';
	if (windowHref.indexOf('?') > -1) {
		windowHref += '&';
	} else {
		windowHref += '?';
	}
	document.write(
		"&nbsp;&nbsp;&nbsp;&nbsp;" +
		"<a class='wsite-view-link-mobile' href='" + windowHref + "view=mobile'>Mobile Site</a>"
	);
}

//-->
</script>
        </div><!-- end container -->
    </div><!-- end footer-wrap -->


		<script type="text/javascript">

	var _gaq = _gaq || [];
	_gaq.push(['_setAccount', 'UA-7870337-1']);
	_gaq.push(['_setDomainName', 'none']);
	_gaq.push(['_setAllowLinker', true]);
	_gaq.push(['_trackPageview']);

	(function() {
		var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
		ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
		var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
	})();

</script>

<!-- Quantcast Tag -->
<script type="text/javascript">
var _qevents = _qevents || [];

(function() {
var elem = document.createElement('script');
elem.src = (document.location.protocol == "https:" ? "https://secure" : "http://edge") + ".quantserve.com/quant.js";
elem.async = true;
elem.type = "text/javascript";
var scpt = document.getElementsByTagName('script')[0];
scpt.parentNode.insertBefore(elem, scpt);
})();

_qevents.push({
qacct:"p-0dYLvhSGGqUWo",
labels:"l0,u34942308.u34942308s631529018968243510"
});
</script>

<noscript>
<div style="display:none;">
<img src="http://pixel.quantserve.com/pixel/p-0dYLvhSGGqUWo.gif?labels=l0,u34942308.u34942308s631529018968243510" border="0" height="1" width="1" alt="Quantcast"/>
</div>
</noscript>
<!-- End Quantcast tag -->


<script>

	(function(jQuery) {
		try {
			if (jQuery) {
				jQuery('div.blog-social div.fb-like').attr('class', 'blog-social-item blog-fb-like');
				var $commentFrame = jQuery('#commentArea iframe');
				if ($commentFrame.length > 0) {
					var frameHeight = jQuery($commentFrame[0].contentWindow.document).height() + 50;
					$commentFrame.css('min-height', frameHeight + 'px');
				}
				if (jQuery('.product-button').length > 0){
					jQuery(document).ready(function(){
						jQuery('.product-button').parent().each(function(index, product){
							if(jQuery(product).attr('target') == 'paypal'){
								if (!jQuery(product).find('> [name="bn"]').length){
									jQuery('<input>').attr({
										type: 'hidden',
										name: 'bn',
										value: 'DragAndDropBuil_SP_EC'
									}).appendTo(product);
								}
							}
						});
					});
				}
			}
			else {
				// Prototype
				$$('div.blog-social div.fb-like').each(function(div) {
					div.className = 'blog-social-item blog-fb-like';
				});
				$$('#commentArea iframe').each(function(iframe) {
					iframe.style.minHeight = '410px';
				});
			}
		}
		catch(ex) {}
	})(window._W && _W.jQuery);

</script>
<div id="eu-cookie" class="notification" style="display: none;">
	<span id="eu-cookie-content"></span>
	<span id="eu-cookie-close">&#10005</span>
</div>

<script type="text/javascript">
	(function($) {
		var cookie_location = '';

		// this cookie_content should already be pre-encoded from CookieSettingView.js
		var cookie_content = '' || _W.stl('templates.publish.virtual-includes.footerCode_1');

		if (!_W.getCookie('631529018968243510_cookie_policy') || (_W.getCookie('631529018968243510_cookie_policy') !== cookie_content)){
			if (cookie_location === 'top' || cookie_location === 'bottom'){
				$('#eu-cookie-content').text(decodeURIComponent(cookie_content));
				(cookie_location === 'top') ? animateFromTop() : animateFromBottom();
				$('#eu-cookie').show();
			}
		}

		$('#eu-cookie-close').click(function(){
			_W.setCookie('631529018968243510_cookie_policy', cookie_content, 100000);
			$('#eu-cookie').hide();
		});

		function animateFromTop(){
			$('#eu-cookie').css({
				'top': '0px',
				'animation': 'reveal-top 1 2s'
			});
		}

		function animateFromBottom(){
			$('#eu-cookie').css({
				'bottom': '0px',
				'animation': 'reveal-bottom 1 2s'
			});
		}
	})(window._W && _W.jQuery);

</script>

<div id="fb-root"></div>
<script>
	window.fbAsyncInit = function() {
		FB.init({
			appId : '190291501407',
			xfbml : true,
			version : 'v2.2'
		});

        // Set Facebook comment plugin's colorscheme based off of theme
		var comments = document.getElementsByClassName('facebook-comment-widget'),
			scheme = document.body.className.match('wsite-theme-light');

		for (var i = 0; i < comments.length; i++) {
			comments[i].setAttribute('colorscheme', scheme ? 'light' : 'dark');
		}

		var fbCommentCounts;

		FB.Event.subscribe('xfbml.render', function(){
			fbCommentCounts = jQuery('.fb_comments_count');
			for (var i = 0; i < fbCommentCounts.length; i++) {
				var commentText = (jQuery(fbCommentCounts[i]).text() == '1' ? "Comment" : "Comments");
				jQuery(fbCommentCounts[i]).parent().siblings('.fb_comment_count_label').text(commentText);
			}
		});

		var comment_callback = function(res) {
			FB.XFBML.parse(); // Refresh comment counters on page
		}

		FB.Event.subscribe('comment.create', comment_callback);
		FB.Event.subscribe('comment.remove', comment_callback);

	};

	(function(d, s, id){
		var js, fjs = d.getElementsByTagName(s)[0];
		if (d.getElementById(id)) {return;}
		js = d.createElement(s); js.id = id;
		js.src = "//connect.facebook.net/"+_W.facebookLocale+"/sdk.js";
		fjs.parentNode.insertBefore(js, fjs);
	}(document, 'script', 'facebook-jssdk'));
</script>
<script type='text/javascript'>
	(function() {
		function j(src, id) {
			var s = document.createElement('script');
			s.type = 'text/javascript';
			s.async = true;
			s.src = src;
			if(id) {s.id=id};
			document.getElementsByTagName('head')[0].appendChild(s);
		}
		j('//platform.twi'+'tter.com/widgets.js');
	})()
</script>
		
	</body>
</html>
